<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Storage</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.6.0/jszip.min.js"></script>
</head>
<body onload="initDB()">
    <header>
        <div class="logo">
            <img style="background-color: aliceblue;" src="Google_Drive_Logo_512px.png" alt="Logo">
            <h1>My Drive</h1>
        </div>
        <button class="open-sidebar-btn" onclick="openSidebar()">Open Sidebar</button>
    </header>
    <aside class="sidebar">
        <button class="close-sidebar-btn" onclick="closeSidebar()">Close Sidebar</button>
        <nav>
            <ul>
                <li><a href="Index.html">Your Files</a></li>
                <li><a href="#">Chat Assistant</a></li>
                <li><a href="#">Perfomance</a></li>
                <li><a href="#">Text Editor</a></li>
                <li><a href="#">Whistlist</a></li>
                <li><a href="#">Settings</a></li>
            </ul>
        </nav>
    </aside>
    <main>
        <section class="file-storage">
            <h2>File Storage</h2>
            <input type="file" class="fileInput" id="fileInput">
            <button class="upload-btn" onclick="uploadFile()">Upload</button>
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Search files...">
            </div>
            <div class="upload-buttons">
                <input type="file" id="fileInput" style="display:none;" onchange="uploadFile()">
                <button onclick="startCamera()">Upload from Camera</button>
            </div>
            <div class="camera-container" style="display: none;">
                <video id="video" width="320" height="240" autoplay></video>
                <button id="captureButton" onclick="capturePhoto()">Capture Photo</button>
                <button id="startRecordingButton" onclick="startRecording()">Start Recording</button>
                <button id="stopRecordingButton" onclick="stopRecording()" style="display: none;">Stop Recording</button>
                <video id="recordedVideo" controls style="display: none;"></video>
                <canvas id="canvas" style="display:none;"></canvas>
            </div>            
            <div class="file-grid">
                <div class="file">
                    <h1>Your Files</h1>
                    <div class="file-list" id="fileList"></div>
                    <div class="captured-image" style="display: none;">
                        <h2>Captured Image</h2>
                        <img id="previewImage" src="" alt="Captured Image">
                    </div>
                    <div class="recorded-video" style="display: none;">
                        <h2>Recorded Video</h2>
                        <video id="previewVideo" width="320" height="240" controls></video>
                    </div>
                    <div class="trash">
                        <h1>Trash Files</h1>
                        <div class="trash-list" id="trashList"></div>
                    </div>
                </div>
            </div>
            <div id="fileModal" class="modal">
                <div class="modal-content">
                    <span class="close" onclick="closeModal()">&times;</span>
                    <div id="fileDisplay"></div>
                </div>
            </div>
        </section>
    </main>
    <script src="script.js"></script>
</body>
</html>
